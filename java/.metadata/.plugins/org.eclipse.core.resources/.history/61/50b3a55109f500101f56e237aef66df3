package com.test.java.service;

import java.util.List;
import java.util.Scanner;

import com.test.java.repository.AddressDao;
import com.test.java.ui.AddressUi;
import com.test.javs.dto.AddressDto;

public class AddressService {
	
	private AddressDao dao;
	private AddressUi ui;
	
	public AddressService() {
		dao = new AddressDao();
		ui = new AddressUi();
	}

	public void list() {
		
		// ì£¼ì†Œë¡ ëª©ë¡ ë³´ê¸°
		
		
		List<AddressDto> list = dao.list();
		
		ui.printList(list);
			
	}
	
	public void add() {
		
		// ì£¼ì†Œë¡ ì¶”ê°€í•˜ê¸°
		// - íŒŒì¼ ì“°ê¸° > AddressDao ìœ„ì„
		
		// ì‚¬ìš©ì ì…ë ¥ > (ì „ë‹¬) > Dao + íŒŒì¼ ì“°ê¸°
		ui.subMenu("2. ì£¼ì†Œë¡ ëª©ë¡ë³´ê¸°");
		
		Scanner scan = new Scanner(System.in);
		
		System.out.print("ì´ë¦„: ");
		String name = scan.nextLine();
		
		System.out.print("ë‚˜ì´: ");
		String age = scan.nextLine();
		
		System.out.print("ì„±ë³„(ë‚¨ì(1), ì—¬ì(2)): ");
		String gender = scan.nextLine();
		
		System.out.print("ì£¼ì†Œ: ");
		String address = scan.nextLine();
		
		System.out.print("ì „í™”: ");
		String tel = scan.nextLine();
		
		// *** ê¶Œì¥ ì‚¬í•­
		// - ê³„ì¸µê³¼ ê³„ì¸µ ê°„ì— ë°ì´í„°ë¥¼ ì „ë‹¬í•  ë•Œ > ë˜ë„ë¡ ìƒìì— ë‹´ì•„ì„œ ë„˜ê²¨ë¼
		
		AddressDto dto = new AddressDto();
		
		dto.setName(name);
		dto.setAge(age);
		dto.setGender(gender);
		dto.setTel(tel);
		dto.setAddress(address);
		
		dao.add(dto);
		
		ui.completeMessage("ğŸ˜‰ì£¼ì†Œë¡ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.");
		
		
		
	}

	public void delete() {
		
		// ì£¼ì†Œë¡ ì‚­ì œí•˜ê¸°
		// ì‚¬ìš©ì ì…ë ¥(ì´ë¦„) > íŒŒì¼ì—ì„œ í•´ë‹¹ ì •ë³´ë¥¼ ì‚­ì œí•˜ê¸°
		
		ui.subMenu("3. ì£¼ì†Œë¡ ì‚­ì œí•˜ê¸°");
		
		Scanner scan = new Scanner(System.in);
		
		System.out.print("ì´ë¦„: ");
		String name = scan.nextLine();
		
		dao.delete(name);
		
		ui.completeMessage("ğŸ˜‰ì£¼ì†Œë¡ì„ ì‚­ì œí–ˆìŠµë‹ˆë‹¤.");
		
		
	}

	public void search() {
		
	}

}
